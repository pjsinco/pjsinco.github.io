{"version":3,"sources":["../../scripts/main.js"],"names":["jQuery","document","ready","formatDate","dateString","isoDate","slice","e","date","Date","replace","months","days","stringDate","getDay","getMonth","getDate","vex","defaultOptions","className","$","on","evt","preventDefault","dataset","currentTarget","data","omedModalDate","dialog","buttons","YES","text","timeString","omedModalTime","alert","showCloseButton","appendLocation","unsafeMessage","omedModalHeader","omedModalLocation","omedModalBlurb","omedModalLink","offset","i","coords","top","window","scrollTop","left","expr","icontains","createPseudo","toLowerCase","indexOf","s","val","trim","show","each","el","$el","find","prop","unmark","hide","$sectionsWithMatch","section","$matches","length","mark","submit","removeClass","addClass","offsetWidth","originalEvent","touches","pageX","getBoundingClientRect","clientX","console","log","trigger","scrolling","currentTop","previousTop","scrollDelta","scrollOffset","$belowSplash","$mainHeader","headerHeight","height","$secondaryNavigation","$scrollFlipHere","$body","checkOmedScrolledPoint","checkSimpleNavigation","checkStickyNavigation","secondaryNavOffsetTop","autoHideHeader","requestAnimationFrame","setTimeout","is_chrome","navigator","userAgent","is_explorer","is_firefox","is_safari","is_opera","is_mac","is_windows","css","toggleClass","parent","remove","action","ajax","url","omedajax","ajax_url","success"],"mappings":";;AAAAA,OAAOC,QAAP,EAAiBC,KAAjB,CAAuB,aAAK;AAC1B;;;;;AAKA,WAASC,UAAT,CAAoBC,UAApB,EAAgC;AAC9B,QAAIC,gBAAJ;;AAEA,QAAI;AACFA,gBAAaD,WAAWE,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAb,SAAuCF,WAAWE,KAAX,CACrC,CADqC,EAErC,CAFqC,CAAvC,SAGKF,WAAWE,KAAX,CAAiB,CAAjB,CAHL;AAID,KALD,CAKE,OAAOC,CAAP,EAAU;AACV;AACD;;AAED;AACA;;AAEA,QAAMC,OAAO,IAAIC,IAAJ,CAASJ,QAAQK,OAAR,CAAgB,IAAhB,EAAsB,GAAtB,CAAT,CAAb;;AAEA,QAAMC,SAAS,CACb,MADa,EAEb,MAFa,EAGb,OAHa,EAIb,OAJa,EAKb,KALa,EAMb,MANa,EAOb,MAPa,EAQb,MARa,EASb,OATa,EAUb,MAVa,EAWb,MAXa,EAYb,MAZa,CAAf;;AAeA,QAAMC,OAAO,CACX,QADW,EAEX,QAFW,EAGX,SAHW,EAIX,WAJW,EAKX,UALW,EAMX,QANW,EAOX,UAPW,EAQX,QARW,CAAb;;AAWA,QAAMC,aAAgBD,KAAKJ,KAAKM,MAAL,EAAL,CAAhB,UACJH,OAAOH,KAAKO,QAAL,EAAP,CADI,SAEFP,KAAKQ,OAAL,EAFJ;;AAIA,WAAOH,UAAP;AACD;;AAED;;;;;;;AAOAI,MAAIC,cAAJ,CAAmBC,SAAnB,GAA+B,gBAA/B;;AAEAC,IAAE,4BAAF,EAAgCC,EAAhC,CAAmC,OAAnC,EAA4C,eAAO;AACjDC,QAAIC,cAAJ;;AAEA,QAAMC,UAAUJ,EAAEE,IAAIG,aAAN,EAAqBC,IAArB,EAAhB;;AAEA,QAAMlB,OAAOL,WAAWqB,QAAQG,aAAnB,CAAb;;AAEAV,QAAIW,MAAJ,CAAWC,OAAX,CAAmBC,GAAnB,CAAuBC,IAAvB,GAA8B,MAA9B;;AAEA;AACA,QAAIC,aAAa,EAAjB;;AAEA,QAAIR,QAAQS,aAAZ,EAA2B;AACzBD,mFAGMxB,QAAQ,EAHd,KAIEgB,QAAQS,aAAR,GAAwB,OAAOT,QAAQS,aAAvC,GAAuD,EAJzD;AAOD;;AAEDhB,QAAIW,MAAJ,CAAWM,KAAX,CAAiB;AACf;AACAC,uBAAiB,IAFF;AAGfC,sBAAgB,eAHD;AAIfC,gFACwBb,QAAQc,eADhC,kGAGsBN,UAHtB,qCAKsBR,QAAQe,iBAAR,GACI,6BACAf,QAAQe,iBADR,GAEA,OAHJ,GAII,EAT1B,oEAYoBf,QAAQgB,cAAR,IAA0B,EAZ9C,oCAcoBhB,QAAQiB,aAAR,GACI,gBACAjB,QAAQiB,aADR,GAEA,iEAHJ,GAII,EAlBxB;AAJe,KAAjB;;AA2BA;AACArB,MAAE,cAAF,EAAkBsB,MAAlB,CAAyB,UAASC,CAAT,EAAYC,MAAZ,EAAoB;AAC3C,aAAO;AACLC,aAAKzB,EAAE0B,MAAF,EAAUC,SAAV,EADA;AAELC,cAAMJ,OAAOI;AAFR,OAAP;AAID,KALD;AAMD,GAxDD;;AA0DA;;;;;;;;;AASA5B,IAAE6B,IAAF,CAAO,GAAP,EAAYC,SAAZ,GAAwB9B,EAAE6B,IAAF,CAAOE,YAAP,CAAoB,UAASpB,IAAT,EAAe;AACzD,WAAO,UAAST,GAAT,EAAc;AACnB,aACEF,EAAEE,GAAF,EACGS,IADH,GAEGqB,WAFH,GAGGC,OAHH,CAGWtB,KAAKqB,WAAL,EAHX,IAGiC,CAAC,CAJpC;AAMD,KAPD;AAQD,GATuB,CAAxB;;AAWAhC,IAAE,YAAF,EAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,UAASC,GAAT,EAAc;AACxC,QAAMgC,IAAIlC,EAAE,IAAF,EACPmC,GADO,GAEPC,IAFO,EAAV;;AAIA,QAAIF,KAAK,EAAT,EAAa;AACX;;AAEAlC,QAAE,gCAAF,EACGqC,IADH,GAEGC,IAFH,CAEQ,UAASf,CAAT,EAAYgB,EAAZ,EAAgB;AACpB,YAAIC,MAAMxC,EAAEuC,EAAF,CAAV;AACAC,YAAIC,IAAJ,CAAS,sBAAT,EAAiCC,IAAjC,CAAsC,SAAtC,EAAiD,IAAjD;;AAEAF,YACGC,IADH,CACQ,yBADR,EAEGE,MAFH,GAGGN,IAHH;AAID,OAVH;AAWD,KAdD,MAcO;AACLrC,QAAE,gCAAF,EACGyC,IADH,CACQ,yBADR,EAEGE,MAFH,GAGGC,IAHH;;AAKA,UAAIC,qBAAqB7C,EACvB,+CAA+CkC,CAA/C,GAAmD,IAD5B,CAAzB;;AAIAW,yBAAmBP,IAAnB,CAAwB,UAASf,CAAT,EAAYuB,OAAZ,EAAqB;AAC3C,YAAIN,MAAMxC,EAAE8C,OAAF,CAAV;;AAEA,YAAIC,WAAWP,IAAIC,IAAJ,CACb,wCAAwCP,CAAxC,GAA4C,IAD/B,CAAf;;AAIA;AACA;AACA,YAAIa,SAASC,MAAT,KAAoB,CAAxB,EAA2B;AACzB;AACD;;AAEDR,YAAIC,IAAJ,CAAS,sBAAT,EAAiCC,IAAjC,CAAsC,SAAtC,EAAiD,KAAjD;;AAEAF,YAAIH,IAAJ;AACAU,iBAASV,IAAT;AACAU,iBAASE,IAAT,CAAcf,CAAd;AACD,OAlBD;;AAoBA;AACAlC,QAAE,gCAAF,EAAoC4C,IAApC;AACA,UAAMG,WAAW/C,EACf,8CAA8CkC,CAA9C,GAAkD,IADnC,CAAjB;AAGAa,eAASV,IAAT;AACD;AACF,GAxDD;;AA0DArC,IAAE,aAAF,EAAiBkD,MAAjB,CAAwB,UAAShD,GAAT,EAAc;AACpCA,QAAIC,cAAJ;AACD,GAFD;;AAIA;;;;;AAKAH,IAAEnB,QAAF,EACGoB,EADH,CACM,OADN,EACe,YADf,EAC6B,UAASC,GAAT,EAAc;AACvC,QAAIF,EAAE,IAAF,EAAQmC,GAAR,MAAiB,EAArB,EAAyB;AACvBnC,QAAE,IAAF,EAAQmD,WAAR,CAAoB,aAApB;AACD,KAFD,MAEO;AACLnD,QAAE,IAAF,EAAQoD,QAAR,CAAiB,aAAjB;AACD;AACF,GAPH,EAQGnD,EARH,CAQM,YARN,EAQoB,cARpB,EAQoC,UAASC,GAAT,EAAc;AAC9C,QACE,KAAKmD,WAAL,GAAmB,EAAnB,GACAnD,IAAIoD,aAAJ,CAAkBC,OAAlB,CAA0B,CAA1B,EAA6BC,KAA7B,GAAqC,KAAKC,qBAAL,GAA6B7B,IAFpE,EAGE;AACA5B,QAAE,IAAF,EAAQoD,QAAR,CAAiB,KAAjB;AACD,KALD,MAKO;AACLpD,QAAE,IAAF,EAAQmD,WAAR,CAAoB,KAApB;AACD;AACF,GAjBH,EAkBGlD,EAlBH,CAkBM,WAlBN,EAkBmB,cAlBnB,EAkBmC,UAASC,GAAT,EAAc;AAC7C,QACE,KAAKmD,WAAL,GAAmB,EAAnB,GACAnD,IAAIwD,OAAJ,GAAc,KAAKD,qBAAL,GAA6B7B,IAF7C,EAGE;AACA5B,QAAE,IAAF,EAAQoD,QAAR,CAAiB,KAAjB;AACD,KALD,MAKO;AACLpD,QAAE,IAAF,EAAQmD,WAAR,CAAoB,KAApB;AACD;AACF,GA3BH,EA4BGlD,EA5BH,CA4BM,kBA5BN,EA4B0B,MA5B1B,EA4BkC,UAASC,GAAT,EAAc;AAC5CA,QAAIC,cAAJ;AACAwD,YAAQC,GAAR,CAAY,UAAZ;AACA5D,MAAE,IAAF,EACGmD,WADH,CACe,iBADf,EAEGhB,GAFH,CAEO,EAFP,EAGG0B,OAHH,CAGW,OAHX;AAID,GAnCH;;AAqCA;;;;;;;;AAQA,MAAIC,YAAY,KAAhB;AAAA,MACEC,aAAa,CADf;AAAA,MAEEC,cAAc,CAFhB;AAAA,MAGEC,cAAc,EAHhB;AAAA,MAIEC,eAAe,GAJjB;;AAMA,MAAMC,eAAenE,EAAE,SAAF,CAArB;AAAA,MACEoE,cAAcpE,EAAE,SAAF,CADhB;AAAA,MAEEqE,eAAeD,YAAYE,MAAZ,EAFjB;AAAA,MAGEC,uBAAuBvE,EAAE,gBAAF,CAHzB;AAAA,MAIEwE,kBAAkBxE,EAAE,mBAAF,CAJpB;AAAA,MAKEyE,QAAQzE,EAAE,MAAF,CALV;;AAOA,MAAM0E,yBAAyB,SAAzBA,sBAAyB,aAAc;AAC3C,QAAIX,aAAaG,YAAjB,EAA+B;AAC7BO,YAAMrB,QAAN,CAAe,cAAf;AACD,KAFD,MAEO;AACLqB,YAAMtB,WAAN,CAAkB,cAAlB;AACD;AACF,GAND;;AAQA,MAAMwB,wBAAwB,SAAxBA,qBAAwB,aAAc;AAC1CD,2BAAuBX,UAAvB;;AAEA,QAAIC,cAAcD,UAAd,GAA2BE,WAA/B,EAA4C;AAC1CG,kBAAYjB,WAAZ,CAAwB,WAAxB;AACD,KAFD,MAEO,IACLY,aAAaC,WAAb,GAA2BC,WAA3B,IACAF,aAAaG,YAFR,EAGL;AACAE,kBAAYhB,QAAZ,CAAqB,WAArB;AACD;AACF,GAXD;;AAaA,MAAMwB,wBAAwB,SAAxBA,qBAAwB,aAAc;AAC1CF,2BAAuBX,UAAvB;;AAEA;AACA,QAAIc,wBACFL,gBAAgBlD,MAAhB,GAAyBG,GAAzB,GACA8C,qBAAqBD,MAArB,EADA,GAEAF,YAAYE,MAAZ,EAHF;;AAKA,QAAIN,eAAeD,UAAnB,EAA+B;AAC7B;AACA,UAAIA,aAAac,qBAAjB,EAAwC;AACtC;AACA;AACAT,oBAAYjB,WAAZ,CAAwB,WAAxB;AACAoB,6BAAqBpB,WAArB,CAAiC,gBAAjC;AACAqB,wBAAgBrB,WAAhB,CAA4B,qBAA5B;AACD,OAND,MAMO,IAAIa,cAAcD,UAAd,GAA2BE,WAA/B,EAA4C;AACjD;AACA;AACAG,oBAAYjB,WAAZ,CAAwB,WAAxB;AACAoB,6BAAqBpB,WAArB,CAAiC,UAAjC,EAA6CC,QAA7C,CAAsD,OAAtD;AACAoB,wBAAgBpB,QAAhB,CAAyB,qBAAzB;AACD;AACF,KAfD,MAeO;AACL;AACA,UAAIW,aAAac,wBAAwBX,YAAzC,EAAuD;AACrD;AACA;AACAE,oBAAYhB,QAAZ,CAAqB,WAArB;AACAmB,6BAAqBnB,QAArB,CAA8B,2BAA9B;AACAoB,wBAAgBpB,QAAhB,CAAyB,qBAAzB;AACD,OAND,MAMO,IAAIW,aAAac,qBAAjB,EAAwC;AAC7C;AACA;AACAT,oBAAYjB,WAAZ,CAAwB,WAAxB;AACAoB,6BACGnB,QADH,CACY,kBADZ,EAEGD,WAFH,CAEe,UAFf;AAGAqB,wBAAgBpB,QAAhB,CAAyB,qBAAzB;AACD;AACF;AACF,GA1CD;;AA4CA,MAAM0B,iBAAiB,SAAjBA,cAAiB,GAAM;AAC3Bf,iBAAa/D,EAAE0B,MAAF,EAAUC,SAAV,EAAb;;AAEA6C,oBAAgBxB,MAAhB,GAAyB,CAAzB,GACI4B,sBAAsBb,UAAtB,CADJ,GAEIY,sBAAsBZ,UAAtB,CAFJ;;AAIAC,kBAAcD,UAAd;AACAD,gBAAY,KAAZ;AACD,GATD;;AAWA9D,IAAE0B,MAAF,EAAUzB,EAAV,CAAa,QAAb,EAAuB,YAAM;AAC3B,QAAI,CAAC6D,SAAL,EAAgB;AACdA,kBAAY,IAAZ;;AAEA,OAACpC,OAAOqD,qBAAR,GACIC,WAAWF,cAAX,EAA2B,GAA3B,CADJ,GAEIC,sBAAsBD,cAAtB,CAFJ;AAGD;AACF,GARD;;AAUA;;;;;;;;AAQA,MAAMG,YAAYC,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,QAA5B,IAAwC,CAAC,CAA3D;AACA,MAAMmD,cAAcF,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,MAA5B,IAAsC,CAAC,CAA3D;AACA,MAAMoD,aAAaH,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,SAA5B,IAAyC,CAAC,CAA7D;AACA,MAAIqD,YAAYJ,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,QAA5B,IAAwC,CAAC,CAAzD;AACA,MAAMsD,WAAWL,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,QAA5B,IAAwC,CAAC,CAA1D;AACA,MAAMuD,SAASN,UAAUC,SAAV,CAAoBlD,OAApB,CAA4B,QAA5B,KAAyC,CAAC,CAAzD;AACA,MAAMwD,aAAa,CAACD,MAApB;;AAEA,MAAIP,aAAaK,SAAjB,EAA4B;AAC1BA,gBAAY,KAAZ;AACD;;AAED,MAAIA,aAAaG,UAAjB,EAA6B;AAC3BzF,MAAE,MAAF,EAAU0F,GAAV,CAAc,qBAAd,EAAqC,QAArC;AACD;;AAED;;;;AAIAtB,cAAYnE,EAAZ,CAAe,OAAf,EAAwB,cAAxB,EAAwC,eAAO;AAC7CC,QAAIC,cAAJ;AACAiE,gBAAYuB,WAAZ,CAAwB,UAAxB;AACD,GAHD;;AAKA;;;AAGA3F,IAAE,eAAF,EAAmBC,EAAnB,CAAsB,OAAtB,EAA+B,UAASC,GAAT,EAAc;AAC3CA,QAAIC,cAAJ;;AAEAH,MAAE,IAAF,EACG4F,MADH,CACU,QADV,EAEGC,MAFH;;AAIA,QAAIvF,OAAO;AACTwF,cAAQ;AADC,KAAX;AAGA9F,MAAE+F,IAAF,CAAO;AACLC,WAAKC,SAASC,QADT;AAEL5F,YAAMA,IAFD;AAGL6F,eAAS,mBAAW;AAClB;AACD;AALI,KAAP;AAOD,GAjBD;AAkBD,CAxZD","file":"bundle.js","sourcesContent":["jQuery(document).ready($ => {\n  /**\n   * Convert a YYYYMMDD-formatted date into\n   * a string that can be used in an event modal.\n   *\n   */\n  function formatDate(dateString) {\n    let isoDate;\n\n    try {\n      isoDate = `${dateString.slice(0, 4)}-${dateString.slice(\n        4,\n        6\n      )}-${dateString.slice(6)}`;\n    } catch (e) {\n      return;\n    }\n\n    // https://stackoverflow.com/questions/4310953/\n    //         invalid-date-in-safari#answer-5646753\n\n    const date = new Date(isoDate.replace(/-/g, '/'));\n\n    const months = [\n      'Jan.',\n      'Feb.',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'Aug.',\n      'Sept.',\n      'Oct.',\n      'Nov.',\n      'Dec.',\n    ];\n\n    const days = [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday',\n      'Sunday',\n    ];\n\n    const stringDate = `${days[date.getDay()]}, ${\n      months[date.getMonth()]\n    } ${date.getDate()}`;\n\n    return stringDate;\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Modals\n   *\n   * --------------------------------------------------------------------------\n   */\n  vex.defaultOptions.className = 'vex-theme-omed';\n\n  $('.owl-carousel .event__item').on('click', evt => {\n    evt.preventDefault();\n\n    const dataset = $(evt.currentTarget).data();\n\n    const date = formatDate(dataset.omedModalDate);\n\n    vex.dialog.buttons.YES.text = 'Done';\n\n    // Date is optional\n    let timeString = '';\n\n    if (dataset.omedModalTime) {\n      timeString = `\n        <h5>\n          <span>When: </span> \n          ${date || ''}${\n        dataset.omedModalTime ? ', ' + dataset.omedModalTime : ''\n      }\n        </h5>`;\n    }\n\n    vex.dialog.alert({\n      //appendLocation: '.event__items',\n      showCloseButton: true,\n      appendLocation: '.site-content',\n      unsafeMessage: `<div class=\"omed-modal\">\n                        <h3>${dataset.omedModalHeader}</h3>\n                        <div class=\"omed-modal__deets\">\n                          ${timeString}\n                          ${\n                            dataset.omedModalLocation\n                              ? '<h5><span>Where: </span>' +\n                                dataset.omedModalLocation +\n                                '</h5>'\n                              : ''\n                          }\n                        </div>\n                        ${dataset.omedModalBlurb || ''}\n                        ${\n                          dataset.omedModalLink\n                            ? '<p><a href=' +\n                              dataset.omedModalLink +\n                              ' class=\"btn btn--audience\" target=\"_blank\">More details</a></p>'\n                            : ''\n                        }\n                      </div>`,\n    });\n\n    // Scroll to top of modal\n    $('.vex-content').offset(function(i, coords) {\n      return {\n        top: $(window).scrollTop(),\n        left: coords.left,\n      };\n    });\n  });\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * FAQs\n   *\n   * --------------------------------------------------------------------------\n   * Custom jQuery :icontains selector for finding element based on its text\n   * @see https://gist.github.com/pklauzinski/b6f836f99cfa11100488\n   */\n  $.expr[':'].icontains = $.expr.createPseudo(function(text) {\n    return function(evt) {\n      return (\n        $(evt)\n          .text()\n          .toLowerCase()\n          .indexOf(text.toLowerCase()) > -1\n      );\n    };\n  });\n\n  $('#faqFilter').on('input', function(evt) {\n    const s = $(this)\n      .val()\n      .trim();\n\n    if (s == '') {\n      //$('.faqs section').show();\n\n      $('.elit-accordion__items section')\n        .show()\n        .each(function(i, el) {\n          var $el = $(el);\n          $el.find('input[type=checkbox]').prop('checked', true);\n\n          $el\n            .find('.elit-accordion__item p')\n            .unmark()\n            .show();\n        });\n    } else {\n      $('.elit-accordion__items section')\n        .find('.elit-accordion__item p')\n        .unmark()\n        .hide();\n\n      var $sectionsWithMatch = $(\n        \".elit-accordion__items section:icontains('\" + s + \"')\"\n      );\n\n      $sectionsWithMatch.each(function(i, section) {\n        var $el = $(section);\n\n        var $matches = $el.find(\n          \".elit-accordion__item p:icontains('\" + s + \"')\"\n        );\n\n        // TODO This isn't working\n        // Prevent matching on the list heading\n        if ($matches.length === 0) {\n          return;\n        }\n\n        $el.find('input[type=checkbox]').prop('checked', false);\n\n        $el.show();\n        $matches.show();\n        $matches.mark(s);\n      });\n\n      //$('.faqs section').hide();\n      $('.elit-accordion__items section').hide();\n      const $matches = $(\n        '.elit-accordion__items section:icontains(' + s + ') '\n      );\n      $matches.show();\n    }\n  });\n\n  $('.faqs__form').submit(function(evt) {\n    evt.preventDefault();\n  });\n\n  /**\n   * @see https://stackoverflow.com/questions/6258521/\n   *              clear-icon-inside-input-text\n   *\n   */\n  $(document)\n    .on('input', '.clearable', function(evt) {\n      if ($(this).val() == '') {\n        $(this).removeClass('has-content');\n      } else {\n        $(this).addClass('has-content');\n      }\n    })\n    .on('touchstart', '.has-content', function(evt) {\n      if (\n        this.offsetWidth - 73 <\n        evt.originalEvent.touches[0].pageX - this.getBoundingClientRect().left\n      ) {\n        $(this).addClass('onX');\n      } else {\n        $(this).removeClass('onX');\n      }\n    })\n    .on('mousemove', '.has-content', function(evt) {\n      if (\n        this.offsetWidth - 73 <\n        evt.clientX - this.getBoundingClientRect().left\n      ) {\n        $(this).addClass('onX');\n      } else {\n        $(this).removeClass('onX');\n      }\n    })\n    .on('touchstart click', '.onX', function(evt) {\n      evt.preventDefault();\n      console.log('clickonX');\n      $(this)\n        .removeClass('has-content onX')\n        .val('')\n        .trigger('input');\n    });\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Hide and show nav bars\n   *\n   * --------------------------------------------------------------------------\n   * @see https://codyhouse.co/gem/auto-hiding-navigation\n   */\n  let scrolling = false,\n    currentTop = 0,\n    previousTop = 0,\n    scrollDelta = 10,\n    scrollOffset = 150;\n\n  const $belowSplash = $('.splash'),\n    $mainHeader = $('.header'),\n    headerHeight = $mainHeader.height(),\n    $secondaryNavigation = $('.secondary-nav'),\n    $scrollFlipHere = $('.scroll-flip-here'),\n    $body = $('body');\n\n  const checkOmedScrolledPoint = currentTop => {\n    if (currentTop > scrollOffset) {\n      $body.addClass('omedscrolled');\n    } else {\n      $body.removeClass('omedscrolled');\n    }\n  };\n\n  const checkSimpleNavigation = currentTop => {\n    checkOmedScrolledPoint(currentTop);\n\n    if (previousTop - currentTop > scrollDelta) {\n      $mainHeader.removeClass('is-hidden');\n    } else if (\n      currentTop - previousTop > scrollDelta &&\n      currentTop > scrollOffset\n    ) {\n      $mainHeader.addClass('is-hidden');\n    }\n  };\n\n  const checkStickyNavigation = currentTop => {\n    checkOmedScrolledPoint(currentTop);\n\n    //secondary nav below intro section - sticky secondary nav\n    var secondaryNavOffsetTop =\n      $scrollFlipHere.offset().top -\n      $secondaryNavigation.height() -\n      $mainHeader.height();\n\n    if (previousTop >= currentTop) {\n      //if scrolling up...\n      if (currentTop < secondaryNavOffsetTop) {\n        //secondary nav is not fixed\n        //console.log('1');\n        $mainHeader.removeClass('is-hidden');\n        $secondaryNavigation.removeClass('fixed slide-up');\n        $scrollFlipHere.removeClass('secondary-nav-fixed');\n      } else if (previousTop - currentTop > scrollDelta) {\n        //console.log('2');\n        //secondary nav is fixed\n        $mainHeader.removeClass('is-hidden');\n        $secondaryNavigation.removeClass('slide-up').addClass('fixed');\n        $scrollFlipHere.addClass('secondary-nav-fixed');\n      }\n    } else {\n      //if scrolling down...\n      if (currentTop > secondaryNavOffsetTop + scrollOffset) {\n        //console.log('3');\n        //hide primary nav\n        $mainHeader.addClass('is-hidden');\n        $secondaryNavigation.addClass('fixed slide-up slide-down');\n        $scrollFlipHere.addClass('secondary-nav-fixed');\n      } else if (currentTop > secondaryNavOffsetTop) {\n        //console.log('4');\n        //once the secondary nav is fixed, do not hide primary nav if you haven't scrolled more than scrollOffset\n        $mainHeader.removeClass('is-hidden');\n        $secondaryNavigation\n          .addClass('fixed slide-down')\n          .removeClass('slide-up');\n        $scrollFlipHere.addClass('secondary-nav-fixed');\n      }\n    }\n  };\n\n  const autoHideHeader = () => {\n    currentTop = $(window).scrollTop();\n\n    $scrollFlipHere.length > 0\n      ? checkStickyNavigation(currentTop)\n      : checkSimpleNavigation(currentTop);\n\n    previousTop = currentTop;\n    scrolling = false;\n  };\n\n  $(window).on('scroll', () => {\n    if (!scrolling) {\n      scrolling = true;\n\n      !window.requestAnimationFrame\n        ? setTimeout(autoHideHeader, 250)\n        : requestAnimationFrame(autoHideHeader);\n    }\n  });\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Fix font weight issues in Safari\n   * @see http://stackoverflow.com/questions/31056543/safari-font-rendering-issues\n   *\n   * --------------------------------------------------------------------------\n   */\n  const is_chrome = navigator.userAgent.indexOf('Chrome') > -1;\n  const is_explorer = navigator.userAgent.indexOf('MSIE') > -1;\n  const is_firefox = navigator.userAgent.indexOf('Firefox') > -1;\n  let is_safari = navigator.userAgent.indexOf('Safari') > -1;\n  const is_opera = navigator.userAgent.indexOf('Presto') > -1;\n  const is_mac = navigator.userAgent.indexOf('Mac OS') != -1;\n  const is_windows = !is_mac;\n\n  if (is_chrome && is_safari) {\n    is_safari = false;\n  }\n\n  if (is_safari || is_windows) {\n    $('body').css('-webkit-text-stroke', '0.25px');\n  }\n\n  /**\n   * Nav behavior\n   *\n   */\n  $mainHeader.on('click', '.nav-trigger', evt => {\n    evt.preventDefault();\n    $mainHeader.toggleClass('nav-open');\n  });\n\n  /**\n   * Alert bar\n   */\n  $('#alert .close').on('click', function(evt) {\n    evt.preventDefault();\n\n    $(this)\n      .parent('#alert')\n      .remove();\n\n    var data = {\n      action: 'hide_alert',\n    };\n    $.ajax({\n      url: omedajax.ajax_url,\n      data: data,\n      success: function() {\n        return;\n      },\n    });\n  });\n});\n"]}